### 代码执行顺序

GO的创建和VO的创建

会在堆内存里面创建一个全局的window对象,他可以被所有东西访问

有一个window对象是指向自身,setTimeOut和Date,Array,Number

浏览器提供了**(Global Object)**window对象

其实是具有执行上下文的栈**(代码调用执行栈)**

ECS excutaion context stack 可执行上下文栈

可执行栈	执行结束后弹出,有函数需要时被执行推入

##### variable Object (VO对象) 指的是变量对象

变量和函数名都会放进VO对象当中

当全局对象被执行时,VO就是GO

the this value is global object

##### 作用域链的概念

`函数是会比变量`提前声明的

##### JavaScript的内存管理

> C和C++都是需要自己来手动管理内存的
>
> 大部分语言,都是语言内部自动来管理内存的,比如java的JVM机
>
> 一般分为**两种内存**
>
> **一个是栈内存,一个是堆内存**,复杂数据类型和简单数据类型

1. 引用清除 
2. 标记清除 
3. 新生代和旧生代区域

****

##### 垃圾回收机制

JavaScript中的垃圾回收

GC,垃圾回收机制garbage Collection

垃圾需要被回收掉,来得到更多的空间

1. **引用清除**,一旦发生循环引用,需要程序员自己手动将引用置为null
2. **标记清楚**,可达性,在一轮循环后,从根对象,进行对有引用对象打上标记,将存在的变量都打上标记,没有打上标记的进行清除
3. **标记整理**,因为内存碎片化非常严重,我们需要将碎片的空间,搬运到一起,形成一段连续的内存,减少内存碎片
4. **分代收集**,分为旧内存和新内存,旧内存,指长时间呆在内存中,检查频率降低
   - 如果几轮的检测后,变量仍然存在的话,就会放入到旧生代中
5. **增量收集**,将数据大的延迟,分成多个小任务,逐渐减小为很小的延迟
6. **闲时收集**,在CPu比较空闲的时候去收集,不影响使用

****

##### JavaScript闭包

> 分为**词法闭包**和**函数闭包**,两种闭包方式
>
> 因为被变量名存储了一个函数和其关联的环境变量
>
> 函数一定是有一个返回值的
>
> 闭包和作用域链是紧紧联系在一起的

多去读一些比较经典的书,经典的书,什么时候读都很经典

只要能访问到外层作用域的变量的时候,**只要创建一个函数,就会创建一个闭包,**

**从广义的角度来说,只要能访问到外层的变量的话,就是闭包**

**闭包的含义就是在函数之外,仍然可以访问到函数内部的变量**

###### 闭包的访问过程

对于闭包导致的内存泄漏,建议在使用结束之后**将变量置为null**

清空内存,清空引用,防止内存泄漏
