---
title: 总线
---

# 总线的基本概念

### 为什么要用总线?

指的是设备之间连接的线

### 什么是总线

总线是`链接`各个部件的`信息传输线`,**是各个部件共享的传输介质**

### 总线上信息的传送

串行传输 距离长,速度慢

并行传输 距离短,速度快

### 单总线结果框图

使用一条系统总线,连接所有的设备

1. 总线的占用,导致其他无法使用总线

### 双总线结构框图

CPU 和主存之间使用一条 M 总线进行单独的信息传输

### 以存储器为核心的双总线设备

就是以 CPU 和主存中有两条总线,一个是**存储总线**,一个是**系统总线**

### 总线的分类

根据芯片位置的分配

1. 片内总线,芯片内的总线
2. 系统总线 计算机各部位的信息传输线

数据总线 `双向` 与机器子长和存储子长有关

地址总线 `单向` 与存储地址和 IO 地址有关

控制总线 `有出,有入` 存储器读写操作 **中断请求 , 系统控制**

#### 传输方式

串行通用总线

并行通用总线

### 总线特性以及性能指标

总线一般是印刷到电路板上的

1. 机器特性 **尺寸** 形状 管脚数 排列顺序
2. 电气特性 传输方向
3. 功能特性 功能 地址 数据 控制
4. 时间特性 信号之间的时序关系

### 总线的性能指标

1. 总线的宽度 数据线的根数
2. 标准传输率 每秒最大字节
3. 时钟同步/异步 同步 不同步
4. 总线复用 地址线和数据线进行复用
5. 信号线数 地址线 数据线和控制线的总和
6. 总线控制方式 突发 自动 仲裁

7. 其他指标 总线一定要有标准

很多东西都是需要来添加标准的,这是计算机快速发展的必要条件

三总线结构 增加了一个 DMA 直接存储器访问,IO 与主存之间的连接线.

高速总线,局部总线,系统总线,扩展总线

多层 PCI 总线结构

### 总线的控制

主设备 **对总线具有控制权**

从设备 **响应从主设备发来的总线命令**

#### 总线判优控制

集中式

- 链式查询方式 同时发起总线请求,离得近优先使用
- 计数器定时查询方式

分布式

独立请求方式 每个 io 接口都有 BG 总线同意和 BR 总线请求两个接口

在经过总线排队后,按优分配

## 总线通信控制

目的 解决两方协调配合问题

### 总线传输周期

申请分配==>寻址==>传数==>结束

### 总线的通信方式

> 主模块发送地址和命令,从模块准备数据,从模块向主模块发数据

1. 同步 统一时钟 根据统一的时钟阶段处理
2. 异步 采用应答 有请求线 和 应答线
   - 不互锁方式和半互锁方式和全互锁方式
3. 半同步 同步异步结合
   - 也是根据时钟来进行控制整个过程
   - 如果没有准备好,需要检测 wait 信号
4. 分离式通信
   - 当次模块没有准备好数据,会事先放弃数据,即放弃总线的使用权
   - 当准备好数据的时候,再申请占用总线,充分利用了 CPu 的带宽

# 存储器

> 是数据所存放的位置,是和 CPU 一起重要的电脑部位

### 存储器分类

1. 存储介质: 需要可以保留两个状态才可以用来存储
   1. 半导体存储器 TTL MOS 易失
   2. 磁表面存储器 磁头和磁载体 非易失
   3. 磁芯存储器 硬磁材料 环状元件 非易失
   4. 光盘存储器 激光和磁光材料 非易失
2. 存取方式分类

   1. 存取时间和物理地址无关 (完全随机存储)
   2. 随机存储器
   3. 只读存储器
   4. 存取时间与物理地址有关 (按顺序存储)
   5. 顺序存取存储器
   6. 直接存取存储器

3. 存储器作用
   1. 主存储器 RAM ROM
   2. flash memory 闪存
   3. 高速缓冲存储器 (Cache) 位于主存和辅存之间作为缓冲
   4. 辅助储存器

![image-20220705065027638](/Users/huangruilin/Library/Application Support/typora-user-images/image-20220705065027638.png)

### 主存储的构成

24 根地址线 16MB

### 主存的技术指标

价格低,存储容量越大越好

存储速度 ==> 存取时间 存取速度越快越好

存储器带宽 位/ms 跟计算机网络的网络也很相似
